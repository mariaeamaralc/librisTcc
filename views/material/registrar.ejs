<h1>Registrar Material</h1>

<% if (error) { %>
  <div class="alert alert-danger"><%= error %></div>
<% } %>

<form action="/material/registrar" method="POST" class="container">
  <div class="row">
    <!-- Coluna Esquerda -->
    <div class="col-md-6">
      <div class="form-group mb-2">
        <label for="n_registro">Número de Registro:</label>
       <input type="number" class="form-control form-control-sm" id="n_registro" name="n_registro" required value="<%= material.n_registro || '' %>">

      </div>

      <div class="form-group mb-2">
        <label for="titulo">Título:</label>
        <input type="text" class="form-control form-control-sm" id="titulo" name="titulo" required value="<%= material.titulo || '' %>">
      </div>

      <div class="form-group mb-2">
        <label for="autor">Autor:</label>
        <input type="text" class="form-control form-control-sm" id="autor" name="autor" required value="<%= material.autor || '' %>">
      </div>

      <div class="form-group mb-2">
        <label for="editora">Editora:</label>
        <input type="text" class="form-control form-control-sm" id="editora" name="editora" required value="<%= material.editora || '' %>">
      </div>

      <div class="form-group mb-2">
        <label for="isbn">ISBN:</label>
        <input type="number" inputmode="numeric" pattern="\\d*" class="form-control form-control-sm" id="isbn" name="isbn" value="<%= material.isbn || '' %>">
      </div>

      <div class="form-group mb-2">
        <label for="idioma">Idioma:</label>
        <input type="text" class="form-control form-control-sm" id="idioma" name="idioma" value="<%= material.idioma || '' %>">
      </div>
    </div>

    <!-- Coluna Direita -->
    <div class="col-md-6">
      <div class="form-group mb-2">
        <label for="tipo">Tipo:</label>
        <input type="text" class="form-control form-control-sm" id="tipo" name="tipo" value="<%= material.tipo || '' %>">
      </div>

      <div class="form-group mb-2">
        <label for="n_paginas">Número de Páginas:</label>
        <input type="number" inputmode="numeric" pattern="\\d*" class="form-control form-control-sm" id="n_paginas" name="n_paginas" value="<%= material.n_paginas || '' %>">
      </div>

      <div class="form-group mb-2">
        <label for="ano_publi">Ano de Publicação:</label>
        <input type="number" inputmode="numeric" pattern="\\d*" class="form-control form-control-sm" id="ano_publi" name="ano_publi" value="<%= material.ano_publi || '' %>">
      </div>

      <div class="form-group mb-2">
        <label for="data_aquisicao">Data de Aquisição:</label>
        <input type="date" class="form-control form-control-sm" id="data_aquisicao" name="data_aquisicao"
          value="<%= (material.data_aquisicao instanceof Date) ? material.data_aquisicao.toISOString().split('T')[0] : material.data_aquisicao || '' %>">
      </div>

      <div class="form-group mb-2">
        <label for="prateleira">Prateleira:</label>
        <input type="text" class="form-control form-control-sm" id="prateleira" name="prateleira" value="<%= material.prateleira || '' %>">
      </div>

     <div class="form-group mb-3">
  <label for="categoria">Categoria:</label>
  <select class="form-control form-control-sm" id="categoria" name="categoria" required>
    <option value="">Selecione</option>
    <% if (categoria && categoria.length > 0) { %>
      <% categoria.forEach(cat => { %>
        <option value="<%= cat.id %>" <%= String(material.categoria) === String(cat.id) ? 'selected' : '' %>><%= cat.nome %></option>
      <% }) %>
    <% } %>
  </select>
</div>
    </div>
  </div>

  <button type="submit" class="btn btn-primary btn-sm mt-2">Cadastrar</button>
</form>
